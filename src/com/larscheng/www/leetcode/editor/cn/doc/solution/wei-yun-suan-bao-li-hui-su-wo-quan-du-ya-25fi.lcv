# å‰è¨€

å®ƒï¼Œçœ‹ä¼¼ç®€å•ï¼Œå®åˆ™è®©è®¸å¤šåŒå­¦æ— ä»ä¸‹æ‰‹ï¼›

å®ƒï¼Œçœ‹ä¼¼å‡ºé¢˜ï¼Œå®åˆ™ç‚«è€€æ‰‹ä¸Šçš„äºŒè¿›åˆ¶è¡¨ï¼›

å®ƒï¼Œçœ‹ä¼¼ã€‚ã€‚å¥½äº†æˆ‘ç¼–ä¸ä¸‹å»äº†ğŸ˜¤

è¿™é“**ç®€å•**é¢˜æ‰“å¼€äº†å¥½å‡ æ¬¡ï¼Œæ¯æ¬¡è¯»é¢˜éƒ½è®©æˆ‘å¤´æ™•ç›®çœ©ã€‚

ä¸‰å¹´ä¹‹æœŸå·²åˆ°ï¼Œæ˜¯æ—¶å€™ä¸‹æ‰‹äº†~~

# æ€è·¯

è¿™æ˜¯é¢˜ç›®ç»™çš„è¡¨ï¼š

![Binary_clock_samui_moon.jpg](https://pic.leetcode-cn.com/1610257964-NoMWAm-Binary_clock_samui_moon.jpg)

æŠŠè¿™åªè¡¨çš„å’Œé¢˜æ„æ‰€å¾—åˆ°çš„ä¿¡æ¯åˆ—ä¸¾å‡ºæ¥ï¼Œå°†å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š

![lc401-1.jpg](https://pic.leetcode-cn.com/1619751868-sSQmen-lc401-1.jpg)

é¦–å…ˆï¼Œæˆ‘ä»¬èƒ½éå¸¸ç›´è§‚çš„å¾—åˆ°è¿™åªè¡¨çš„è¡¨ç¤ºèŒƒå›´ï¼›

å…¶æ¬¡ï¼Œæ ¹æ®é¢˜æ„çš„è¦æ±‚ï¼Œèƒ½å¾—å‡ºè¿™åªè¡¨çš„æœ‰æ•ˆè¡¨ç¤ºèŒƒå›´ï¼ˆçŠ¹è±«è¿‡ num = 2 æ—¶ 12:00 ç®—ä¸ç®—å¯¹ï¼Œæµ‹è¯•ä¸€ä¸‹å°±çŸ¥é“äº†ğŸ¤ªï¼‰ï¼›

æœ€åï¼Œç”±äºæ—¶é—´çš„**æœ‰æ•ˆåŒºé—´é™åˆ¶**ï¼Œèƒ½æ¨ç®—å¾—åˆ° å°æ—¶å’Œåˆ†é’Ÿ åˆ†åˆ«äº®ç¯çš„æ•°é‡åŒºé—´ã€‚

## ä½è¿ç®—æš´åŠ›

ç”±äºè¿™ä¸ºäºŒè¿›åˆ¶æ‰‹è¡¨ï¼Œå› æ­¤æˆ‘ä»¬æ¨¡æ‹Ÿï¼ˆæš´åŠ›ï¼‰æ—¶ï¼Œå°½é‡æ¨¡æ‹Ÿåœ°æ›´ç›¸ä¼¼ä¸€äº›ï¼ˆå¾€äºŒè¿›åˆ¶æ–¹é¢è€ƒè™‘ï¼‰ï¼Œè¿™ä¼šç®€åŒ–æ¨¡æ‹Ÿè¿‡ç¨‹ â€”â€” åªè¦æ¨¡æ‹Ÿ**æœ‰æ•ˆèŒƒå›´å†…**çš„æ‰€æœ‰æ»¡è¶³æƒ…å†µçš„äºŒè¿›åˆ¶çš„è¡¨ç¤ºï¼Œå³å¯å¾—åˆ°æ‰€æœ‰ç­”æ¡ˆã€‚

å³æ—¶é’ˆåªèƒ½ä¸º`[0, 11]`ï¼Œåˆ†é’ˆåªèƒ½ä¸º`[0, 59]`ã€‚

è€Œè¯¥æ‰‹è¡¨çš„äº®ç¯æ­£æ˜¯ä»£è¡¨äº†äºŒè¿›åˆ¶ä½ä¸Šçš„`1`ï¼Œå› æ­¤å€™é€‰æ•°å­—æ‰€å¯¹åº”çš„äºŒè¿›åˆ¶ä¸­`1`çš„æ•°é‡å³ä¸ºäº®ç¯æ•°ã€‚

å½“ **æ—¶é’ˆä»£è¡¨çš„äºŒè¿›åˆ¶ä¸­ `1` çš„ä¸ªæ•° + åˆ†é’ˆæ‰€ä»£è¡¨çš„äºŒè¿›åˆ¶ä¸­ `1` çš„ä¸ªæ•° ç­‰äº `num`** æ—¶ï¼Œå³ä¸ºæœ¬é¢˜çš„ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚

### ä»£ç 

å°çŸ¥è¯†ï¼š
- `Integer.bitCount()` å¯ç”¨äºç»Ÿè®¡ `int` å€¼æ‰€å¯¹åº”çš„äºŒè¿›åˆ¶ä¸­ `1` çš„ä¸ªæ•°

- `String.format()` å¯ç”¨äºå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œéå¸¸ä¼˜é›…ã€‚ç”¨æ³•å’Œ C è¯­è¨€çš„ `printf` ç±»ä¼¼ï¼Œä½†æ•ˆç‡æ„Ÿäºº...

- `StringBuilder` ä¸‡é‡‘æ²¹ï¼Œå¯ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥ã€ä¿®æ”¹ç­‰ç­‰ä¸€ç³»åˆ—æ“ä½œï¼Œæ•ˆç‡å–œäººï¼Œä»£ç ä¸ä¼˜é›…...

- `sprintf()` å¯ç”¨äºå­—ç¬¦ä¸² `char*` çš„æ ¼å¼åŒ–

* []

```Java
class Solution {
    public List<String> readBinaryWatch(int num) {
        List<String> res = new ArrayList<>();

        for (int i = 0; i < 12; i++) {
            for (int j = 0; j < 60; j++) {
                int cnt = Integer.bitCount(i) + Integer.bitCount(j);
                if (cnt == num) {
                    // res.add(String.format("%d:%02d", i, j));
                    StringBuilder sb = new StringBuilder();
                    sb.append(i).append(':');
                    if (j < 10) {
                        sb.append('0');
                    }
                    sb.append(j);
                    res.add(sb.toString());
                }
            }
        }

        return res;
    }
}
```

* []

```C++
class Solution {
private:
    int countOne(int num) {
        int cnt = 0;

        while (num > 0) {
            if (num & 1) {
                cnt++;
            }
            num >>= 1;
        }

        return cnt;
    }
public:
    vector<string> readBinaryWatch(int num) {
        vector<string> res;

        for (int i = 0; i < 12; i++) {
            for (int j = 0; j < 60; j++) {
                int temp = countOne(i) + countOne(j);
                if (temp == num) {
                    char time[6];
                    sprintf(time, "%d:%02d", i, j);
                    res.emplace_back(string{ time });
                    // res.push_back(time);
                }
            }
        }

        return res;
    }
};
```

ä¸ä½¿ç”¨`Integer.bitCount()`æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å†™ä¸ªæ–¹æ³•ç»Ÿè®¡äºŒè¿›åˆ¶ä¸­`1`çš„æ•°é‡:
- `num & 1 == 1` ç­‰ä»·äº `num % 2 == 1`

- `num >>= 1` ç­‰ä»·äº `num /= 2`

- è¯¥ä»£ç **ä»…é€‚ç”¨**äºè‡ªç„¶æ•°ï¼ˆå¯¹äºè´Ÿæ•°å¯ä»¥å»åšåšè¿™é“é¢˜å“¦ï¼š[191. ä½1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-1-bits/)ï¼‰

* []

```Java
private int countOne(int num) {
    int cnt = 0;

    while (num > 0) {
        if ((num & 1) == 1) {
            cnt++;
        }
        num >>= 1;
    }

    return cnt;
}
```

## å›æº¯æ³•

è®¾ ã€Œ**äº®ç¯æ•°**ã€ ä¸º `num` ï¼Œåˆ†é’Ÿçš„æ˜¾ç¤ºä½¿ç”¨äº† `x` ä¸ªç¯ï¼Œå¯å¾—æ—¶é’Ÿæ˜¾ç¤ºå‰©ä½™çš„å¯ç”¨ç¯æ•°ä¸º `num - x`ã€‚

${\Large \because x\in \left [ 0,5 \right ]}$

${\Large \therefore}$ å¯ç”¨ä¸€ä¸ª ${\Large \left [ 0,5 \right ]}$ çš„ ${\large for}$ å¾ªç¯

æ¥ç€æˆ‘ä»¬æ¥è®¾è®¡å›æº¯è¿™ä¸ªæ–¹æ³•ï¼š

å¦‚ä½•å›æº¯ã€è¾¹ç•Œæ¡ä»¶æ˜¯ä»€ä¹ˆä¸€å®šè¦ææ¸…æ¥šï¼Œæ‰èƒ½é¡ºåˆ©çš„æŠŠå›æº¯å†™å‡ºæ¥ã€‚

- æ‰€æœ‰çš„ç¯åªæœ‰ä¸¤ç§æƒ…å†µï¼šè¦ä¹ˆäº®ï¼Œè¦ä¹ˆç­

- åªæœ‰äº®ç¯æ‰èƒ½å‡å°‘ `num` çš„æ•°é‡

- äº®çš„ç¯æ‰€å¯¹åº”çš„äºŒè¿›åˆ¶å€¼éœ€è¦ç»Ÿè®¡

- äºŒè¿›åˆ¶å€¼çš„å’Œæ»¡è¶³è¦æ±‚æ‰èƒ½è¿›å…¥ä¸‹ä¸€å±‚é€’å½’

- å½“ `num` å‡åˆ° `0` æ—¶ï¼Œä»£è¡¨è¿™ç§æƒ…å†µæˆç«‹ï¼ŒåŠ å…¥ç­”æ¡ˆ

å¼±å¼±çš„å›¾ç¤ºä¸€æ³¢...

![lc401-2.jpg](https://pic.leetcode-cn.com/1619753033-bzJeDQ-lc401-2.jpg)

ç”±äºåˆ†é’Ÿå’Œå°æ—¶çš„å›æº¯ä»£ç å®åœ¨æ˜¯å¤ªåƒäº†ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼‰ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨ä¸€ä¸ª `boolean` å˜é‡è¡¨ç¤ºå½“å‰æ˜¯åœ¨æœåˆ†é’Ÿ(`true`)è¿˜æ˜¯å°æ—¶(`false`)ã€‚

æ­¤å¤–ï¼Œåˆ†é’Ÿå’Œå°æ—¶æ‰€æ‹¥æœ‰çš„ç¯æ•°ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤`for`å¾ªç¯ä¹Ÿéœ€è¦å¸ƒå°”å€¼æ¥è®¾å®šæœç´¢èŒƒå›´ã€‚

æœ€åï¼Œå­˜å‚¨ç­”æ¡ˆå†™åœ¨äº†å°æ—¶æœç´¢æˆåŠŸçš„åˆ†æ”¯é‡Œï¼Œè¿›è¡Œç»„åˆå°±å¯ä»¥å¾—åˆ°å½“å‰ç¯æ•°åˆ†å¸ƒçš„ç­”æ¡ˆï¼Œä¸”æ¯æ¬¡æœå®Œéœ€è¦æ¸…ç©º`mins`å“¦ã€‚

**æ„Ÿè°¢è¯„è®ºåŒº [@JianZhao](https://leetcode-cn.com/u/jianzhao/) æå‡ºçš„ä¼˜åŒ–å»ºè®®ï¼ŒåŸä»£ç ä¸­å½“ `num - i` ä¸ºè´Ÿæ•°æ—¶ï¼Œå°†ä¼šå¤šåšå‡ æ¬¡å¾ªç¯çš„æ— ç”¨åŠŸã€‚å› æ­¤éœ€è¦åŠ ä¸Š `(num - i) >= 0` è¿™ä¸ªå¾ªç¯æ¡ä»¶æ¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œå‰ªæï¼Œå³ `num >= i` ã€‚**

* []

```Java
class Solution {
    List<Integer> mins;
    List<String> res;

    public List<String> readBinaryWatch(int num) {
        res = new ArrayList<>();
        mins = new ArrayList<>();
        
        for (int i = 0; i < 6 && num >= i; i++) {
            dfs(0, 0, i, true);
            dfs(0, 0, num - i, false);
            mins.clear();
        }

        return res;
    }

    private void dfs(int st, int sum, int cnt, boolean flag) {
        if (cnt == 0) {
            if (flag) {
                mins.add(sum);
            } else {
                if (!mins.isEmpty()) { 
                    for (int m : mins) {
                        // res.add(String.format("%d:%02d", sum, m));
                        StringBuilder sb = new StringBuilder();
                        sb.append(sum).append(':');
                        if (m < 10) {
                            sb.append('0');
                        }
                        sb.append(m);
                        res.add(sb.toString());
                    }
                }
            }
            return;
        }

        for (int i = st; i < (flag ? 6 : 4); i++) {
            int temp = (int)Math.pow(2, i);
            if (flag && sum + temp >= 60 || !flag && sum + temp >= 12) {
                break;
            }
            dfs(i + 1, sum + temp, cnt - 1, flag);
        }
    }
}
```

* []

```C++
class Solution {
private:
    vector<string> res;
    vector<int> mins;

    void dfs(int st, int sum, int cnt, bool flag) {
        if (cnt == 0) {
            if (flag) {
                mins.push_back(sum);
            } else {
                if (!mins.empty()) {
                    for (int m : mins) {
                        char time[6];
                        sprintf(time, "%d:%02d", sum, m);
                        res.emplace_back(string{ time });
                        // res.push_back(time);
                    }
                }
            }
            return;
        }

        for (int i = st; i < flag ? 6 : 4; i++) {
            int temp = pow(2, i);
            if (flag && sum + temp >= 60 || !flag && sum + temp >= 12) {
                break;
            }
            dfs(i + 1, sum + temp, cnt - 1, flag);
        }
    }
public:
    vector<string> readBinaryWatch(int num) {
        for (int i = 0; i < 6 && num >= i; i++) {
            dfs(0, 0, i, true);
            dfs(0, 0, num - i, false);
            mins.clear();
        }

        return res;
    }
};
```

# æœ€å

å®Œç»“æ’’èŠ±ğŸ¥³ğŸ¥³ğŸ¥³~è¿˜æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…æ›´å¥½çš„è§£ç­”æ–¹å¼æ¬¢è¿ç•™è¨€å“ˆ

æ±‚ä¸ªèµå‘€~`boiboi`~ãƒ¾(â€¢Ï‰â€¢`)o
