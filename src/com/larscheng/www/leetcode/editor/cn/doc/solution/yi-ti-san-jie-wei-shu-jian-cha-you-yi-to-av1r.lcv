## ã€Œä½æ•°æ£€æŸ¥ã€è§£æ³•

ä¸€ä¸ªæœ´ç´ çš„åšæ³•æ˜¯ï¼Œå¯¹ `int` çš„æ¯ä¸€ä½è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶ç»Ÿè®¡ $1$ çš„ä¸ªæ•°ã€‚

![image.png](https://pic.leetcode-cn.com/1616375441-WGCssd-image.png)

ä»£ç ï¼š

* []

```Java
public class Solution {
    public int hammingWeight(int n) {
        int ans = 0;
        for (int i = 0; i < 32; i++) {
            ans += ((n >> i) & 1);
        }
        return ans;
    }
}
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œ$k$ ä¸º `int` çš„ä½æ•°ï¼Œå›ºå®šä¸º $32$ ä½
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

## ã€Œå³ç§»ç»Ÿè®¡ã€è§£æ³•

å¯¹äºæ–¹æ³•ä¸€ï¼Œå³ä½¿ $n$ çš„é«˜ä½å‡ä¸ºæ˜¯ $0$ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå¯¹æ­¤è¿›è¡Œå¾ªç¯æ£€æŸ¥ã€‚

å› æ­¤å¦å¤–ä¸€ä¸ªåšæ³•æ˜¯ï¼šé€šè¿‡ `n & 1` æ¥ç»Ÿè®¡å½“å‰ $n$ çš„æœ€ä½ä½æ˜¯å¦ä¸º $1$ï¼ŒåŒæ—¶æ¯æ¬¡ç›´æ¥å¯¹ $n$ è¿›è¡Œå³ç§»å¹¶é«˜ä½è¡¥ 0ã€‚

å½“ $n = 0$ ä»£è¡¨ï¼Œæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰çš„ $1$ ç»Ÿè®¡å®Œæˆã€‚

è¿™æ ·çš„åšæ³•ï¼Œå¯ä»¥ç¡®ä¿åªä¼šå¾ªç¯åˆ°æœ€é«˜ä½çš„ $1$ã€‚

![image.png](https://pic.leetcode-cn.com/1616375636-fXCFNF-image.png)

ä»£ç ï¼š

* []

```Java
public class Solution {
    public int hammingWeight(int n) {
        int ans = 0;
        while (n != 0) {
            ans += (n & 1);
            n >>>= 1;
        }
        return ans;
    }
}
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œ$k$ ä¸º `int` çš„ä½æ•°ï¼Œå›ºå®šä¸º $32$ ä½ï¼Œæœ€åæƒ…å†µ $n$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºå…¨æ˜¯ $1$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

## ã€Œlowbitã€è§£æ³•

å¯¹äºæ–¹æ³•äºŒï¼Œå¦‚æœæœ€é«˜ä½ $1$ å’Œ æœ€ä½ä½ $1$ ä¹‹é—´å…¨æ˜¯ $0$ï¼Œæˆ‘ä»¬ä»ç„¶ä¼šè¯¸æ¬¡å³ç§»ï¼Œç›´åˆ°å¤„ç†åˆ°æœ€é«˜ä½çš„ $1$ ä¸ºæ­¢ã€‚

é‚£ä¹ˆæ˜¯å¦æœ‰åŠæ³•ï¼Œåªå¯¹ä½æ•°ä¸º $1$ çš„äºŒè¿›åˆ¶ä½è¿›è¡Œå¤„ç†å‘¢ï¼Ÿ

ä½¿ç”¨ `lowbit` å³å¯åšåˆ°ï¼Œ`lowbit` ä¼šåœ¨ $O(1)$ å¤æ‚åº¦å†…è¿”å›äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ä½ $1$ æ‰€è¡¨ç¤ºçš„æ•°å€¼ã€‚

ä¾‹å¦‚ $(0000...111100)_2$ ä¼ å…¥ `lowbit` è¿”å› $(0000...000100)_2$ï¼›$(0000...00011)_2$ ä¼ å…¥ `lowbit` è¿”å› $(0000...00001)_2$ ...

![image.png](https://pic.leetcode-cn.com/1616375636-fXCFNF-image.png)

ä»£ç ï¼š

* []

```Java
public class Solution {
    public int hammingWeight(int n) {
        int ans = 0;
        for (int i = n; i != 0; i -= lowbit(i)) ans++;
        return ans;
    }
    int lowbit(int x) {
        return x & -x;
    }
}
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œ$k$ ä¸º `int` çš„ä½æ•°ï¼Œå›ºå®šä¸º $32$ ä½ï¼Œæœ€åæƒ…å†µ $n$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºå…¨æ˜¯ $1$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

## ã€Œåˆ†ç»„ç»Ÿè®¡ã€è§£æ³•

ä»¥ä¸Šä¸‰ç§è§£æ³•éƒ½æ˜¯ $O(k)$ çš„ï¼Œäº‹å®ä¸Šæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†ç»„ç»Ÿè®¡çš„æ–¹å¼ï¼Œåšåˆ°æ¯” $O(k)$ æ›´ä½çš„å¤æ‚åº¦ã€‚

![image.png](https://pic.leetcode-cn.com/1616378128-yBWadF-image.png)

ä»£ç ï¼š

* []

```Java
public class Solution {
    public int hammingWeight(int n) {
        n = (n & 0x55555555) + ((n >>> 1)  & 0x55555555);
        n = (n & 0x33333333) + ((n >>> 2)  & 0x33333333);
        n = (n & 0x0f0f0f0f) + ((n >>> 4)  & 0x0f0f0f0f);
        n = (n & 0x00ff00ff) + ((n >>> 8)  & 0x00ff00ff);
        n = (n & 0x0000ffff) + ((n >>> 16) & 0x0000ffff);
        return n;
    }
}
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(\log{k})$ï¼Œ$k$ ä¸º `int` çš„ä½æ•°ï¼Œå›ºå®šä¸º $32$ ä½
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

PS. å¯¹äºè¯¥è§£æ³•ï¼Œå¦‚æœå¤§å®¶å­¦æœ‰ä½™åŠ›çš„è¯ï¼Œè¿˜æ˜¯å»ºè®®å¤§å®¶åœ¨çº¸ä¸Šæ¨¡æ‹Ÿä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚å¦‚æœä¸æƒ³æ·±å…¥ï¼Œä¹Ÿå¯ä»¥å½“æˆæ¨¡æ¿èƒŒè¿‡ï¼ˆå†™æ³•éå¸¸å›ºå®šï¼‰ï¼Œä½†é€šå¸¸å¦‚æœä¸æ˜¯å†™åº•å±‚æ¡†æ¶ï¼Œä½ å‡ ä¹ä¸ä¼šé‡åˆ°éœ€è¦ä¸€ä¸ª $O(\log{k})$ è§£æ³•çš„æƒ…å†µã€‚

è€Œä¸”è¿™ä¸ªåšæ³•çš„æœ€å¤§ä½œç”¨ï¼Œä¸æ˜¯å¤„ç† `int`ï¼Œè€Œæ˜¯å¤„ç†æ›´å¤§ä½æ•°çš„æƒ…å†µï¼Œåœ¨é•¿åº¦åªæœ‰ $32$ ä½çš„ `int` çš„æƒ…å†µä¸‹ï¼Œè¯¥åšæ³•ä¸ä¸€å®šå°±æ¯”å¾ªç¯è¦å¿«ï¼ˆè¯¥åšæ³•ä¼šäº§ç”Ÿå¤šä¸ªçš„ä¸­é—´ç»“æœï¼Œå¯¼è‡´èµ‹å€¼å‘ç”Ÿå¤šæ¬¡ï¼Œè€Œä¸”ç”±äºæŒ‡ä»¤ä¹‹é—´å­˜åœ¨å¯¹ $n$ æ•°å€¼ä¾èµ–ï¼Œå¯èƒ½ä¸ä¼šè¢«ä¼˜åŒ–ä¸ºå¹¶è¡ŒæŒ‡ä»¤ï¼‰ï¼Œè¿™ä¸ªé“ç†å’Œå¯¹äºæ’åºå…ƒç´ å°‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ã€Œé€‰æ‹©æ’åºã€è€Œä¸æ˜¯ã€Œå½’å¹¶æ’åºã€æ˜¯ä¸€æ ·çš„ã€‚

---

### å…¶ä»–ã€Œä½è¿ç®—ã€ç›¸å…³å†…å®¹

| é¢˜ç›®                                                         | é¢˜è§£                                                         | éš¾åº¦ | æ¨èæŒ‡æ•° |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- | -------- |
| [137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II](https://leetcode-cn.com/problems/single-number-ii/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/single-number-ii/solution/gong-shui-san-xie-yi-ti-san-jie-ha-xi-bi-fku8/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [190. é¢ å€’äºŒè¿›åˆ¶ä½](https://leetcode-cn.com/problems/reverse-bits/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/reverse-bits/solution/yi-ti-san-jie-dui-cheng-wei-zhu-wei-fen-ub1hi/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [191. ä½1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-1-bits/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-1-bits/solution/yi-ti-san-jie-wei-shu-jian-cha-you-yi-to-av1r/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [231. 2 çš„å¹‚](https://leetcode-cn.com/problems/power-of-two/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/power-of-two/solution/gong-shui-san-xie-2-de-mi-by-ac_oier-qm6e/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [338. æ¯”ç‰¹ä½è®¡æ•°](https://leetcode-cn.com/problems/counting-bits/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/counting-bits/solution/po-su-jie-fa-dong-tai-gui-hua-jie-fa-by-vvail/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [342. 4çš„å¹‚](https://leetcode-cn.com/problems/power-of-four/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/power-of-four/solution/gong-shui-san-xie-zhuan-hua-wei-2-de-mi-y21lq/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [461. æ±‰æ˜è·ç¦»](https://leetcode-cn.com/problems/hamming-distance/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/hamming-distance/solution/gong-shui-san-xie-tong-ji-liang-shu-er-j-987a/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [477. æ±‰æ˜è·ç¦»æ€»å’Œ](https://leetcode-cn.com/problems/total-hamming-distance/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/total-hamming-distance/solution/gong-shui-san-xie-ying-yong-cheng-fa-yua-g21t/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [1178. çŒœå­—è°œ](https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/solution/xiang-jin-zhu-shi-xiang-jie-po-su-wei-yu-3cr2/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/solution/gong-shui-san-xie-yi-ti-si-jie-wei-shu-j-g9w6/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©      |

**æ³¨ï¼šä»¥ä¸Šç›®å½•æ•´ç†æ¥è‡ª [wiki](https://github.com/SharingSource/LogicStack-LeetCode/wiki/ä½è¿ç®—)ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½å¼•ç”¨è¯·ä¿ç•™å‡ºå¤„ã€‚**

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~
