## æ‰“è¡¨

å…·ä½“çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª `é™æ€æ•°æ®ç»“æ„` æ¥å­˜å‚¨æ‰“è¡¨ä¿¡æ¯ï¼ˆéœ€ç¡®ä¿å…¨å±€å”¯ä¸€ï¼Œå³ä½¿å­˜åœ¨å¤šç»„æµ‹è¯•æ•°æ®åªç”Ÿæˆä¸€æ¬¡æ‰“è¡¨æ•°æ®ï¼‰ã€‚

ç„¶ååœ¨è¿”å›æ•°æ®çš„æ—¶å€™ç›´æ¥ $O(1)$ æŸ¥è¡¨è¿”å›ã€‚

PS. å¦‚æœæ‰“è¡¨é€»è¾‘è®¡ç®—é‡æ¥è¿‘ $10^7$ ä¸Šé™ï¼Œå¯ä»¥è€ƒè™‘æ”¾åˆ°æœ¬åœ°å»åšï¼Œè¿™é‡Œæ•°æ®é‡è¾ƒå°‘ï¼Œç›´æ¥æ”¾åˆ° `static` ä»£ç å—å»åšå³å¯ã€‚

**ä»£ç ï¼ˆæ„Ÿè°¢ [@ğŸ­å¯ä¹å¯ä¹å—QAQ](/u/littletime_cc/) å’Œ [@Benhao](/u/qubenhao/) æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š**

* []

```Java
class Solution {    
    // æ‰“è¡¨é€»è¾‘ï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°æœ¬åœ°åš
    // æ³¨æ„ä½¿ç”¨ static ä¿®é¥°ï¼Œç¡®ä¿æ‰“è¡¨æ•°æ®åªä¼šè¢«ç”Ÿæˆä¸€æ¬¡
    static Map<Integer, List<String>> map = new HashMap<>();
    static {
        for (int h = 0; h <= 11; h++) {
            for (int m = 0; m <= 59; m++) {
                int tot = getCnt(h) + getCnt(m);
                List<String> list = map.getOrDefault(tot, new ArrayList<String>());
                list.add(h + ":" + (m <= 9 ? "0" + m : m));
                map.put(tot, list);
            }
        }
    }
    static int getCnt(int x) {
        int ans = 0;
        for (int i = x; i > 0; i -= lowbit(i)) ans++;
        return ans;
    }
    static int lowbit(int x) {
        return x & -x;
    }
    public List<String> readBinaryWatch(int t) {
        return map.getOrDefault(t, new ArrayList<>());
    }
}
```

* []

```C++
class Solution {
public:
    static unordered_map<int,vector<string>> mp;
    static int cnt;
    static int getCnt(int x) {
        int ans = 0;
        for (int i = x; i > 0; i -= lowbit(i)) ans++;
        return ans;
    }
    static int lowbit(int x) {
        return x & -x;
    }
    static void PreTable(){
        cout <<"test:" << cnt << endl; //è¿™é‡Œå¯ä»¥çœ‹åˆ°åªåŠ è½½ä¸€æ¬¡ 
        cnt++;
        for (int h = 0; h <= 11; h++) {
            for (int m = 0; m <= 59; m++) {
                int tot = getCnt(h) + getCnt(m);
                char buffer[6];
                sprintf(buffer,"%d:%02d",h,m);
                mp[tot].push_back(buffer);
            }
        }
    }

    vector<string> readBinaryWatch(int turnedOn) {
        if(cnt == 1) PreTable();
        return mp[turnedOn];
    }
};

int Solution::cnt = 1;
unordered_map<int,vector<string>> Solution::mp = {};
```

* []

```Python
def getCnt(x):
    ans, i = 0, x
    while i > 0:
        ans += 1
        i -= lowbit(i)
    return ans
    
def lowbit(x):
    return x & -x

map = defaultdict(list)
for h in range(12):
    for m in range(60):
        tot = getCnt(h) + getCnt(m)
        map[tot].append(f"{h}:{m:02d}")

class Solution:
    def readBinaryWatch(self, turnedOn: int) -> List[str]:
        return map[turnedOn]
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

