> æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„LeetCodeä»£ç ä»“åº“ï¼š[https://github.com/yanglr/leetcode-ac](https://github.com/yanglr/leetcode-ac),
>
> æ‰€æœ‰ä»£ç (å«æœ‰å„ç§ä¸»æµè¯­è¨€åŠShellã€SQLç­‰)å·²ä¸Šä¼ åˆ°æ­¤ä»“åº“ã€‚
>
> ç›®å‰å·²å®Œæˆçš„**450é“**é¢˜éƒ½æœ‰å®Œæ•´ç‰ˆC++ä»£ç ã€‚

### å‡ ä¹æ‰€æœ‰é¢˜ç›®éƒ½ä¼šè¿½æ±‚ä¸€é¢˜å¤šè§£å’Œæœ€ä¼˜è§£æ³•ï¼ŒçœŸè¯šæ±‚starï¼

![image.png](https://pic.leetcode-cn.com/1633139251-BUkcUv-image.png)

## è§£é¢˜æ€è·¯

é¢˜ç›®ä¸­æ˜ç¡®æŒ‡å‡ºäº†: **ä¸èƒ½ä½¿ç”¨ä»»ä½•ç”±åº“æä¾›çš„å°†æ•°å­—ç›´æ¥è½¬æ¢æˆ–æ ¼å¼åŒ–ä¸ºåå…­è¿›åˆ¶çš„æ–¹æ³•**, é‚£ä¹ˆæ±‚å¹‚æ¬¡æ–¹çš„powå‡½æ•°ç­‰ä¹Ÿæ˜¯ä¸èƒ½ç”¨çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬åªèƒ½è‡ªé£Ÿå…¶åŠ›, ä¸€ç‚¹ä¸€ç‚¹å®ç°äº†ã€‚

<br> </br>

**å¯¹äºå•ä¸ªbitä½çš„æ•°:**
æ•°å­—0~9å¯¹åº”å­—ç¬¦ '0'~'9', è€Œ10~15å¯¹åº”çš„å­—ç¬¦æ˜¯ 'a'~'f', å¯ä»¥ç”¨`å“ˆå¸Œè¡¨`æˆ–`æ•°ç»„`å­˜è¿™ä¸ªä¿¡æ¯ï¼Œæœ¬äººæ›´å–œæ¬¢ç”¨å“ˆå¸Œè¡¨ä¸€ç‚¹, å…¶å®è¿˜å¯ä»¥ç›´æ¥ç”¨1ä¸ªå­—ç¬¦ä¸²æ¨¡æ‹Ÿä¸€ä¸ª"å“ˆå¸Œè¡¨"ã€‚

### å¦‚æœè¾“å…¥çš„æ•°æ˜¯æ­£æ•°, æ€ä¹ˆè§£å†³æ­¤é¢˜?

å¦‚æœè¾“å…¥çš„æ•°æ˜¯æ•´æ•°, æ¯”è¾ƒå®¹æ˜“è§£å†³, ç›¸ä¿¡æŒºå¤šå°ä¼™ä¼´å·²ç»è§£å†³è¿‡(åè¿›åˆ¶) **æ­£æ•´æ•°** è½¬äºŒè¿›åˆ¶çš„é—®é¢˜, æ–¹æ³•åŸºæœ¬ä¸€è‡´ã€‚

ç›´æ¥é€šè¿‡è¿­ä»£%16, /16çš„æ–¹æ³•è§£å†³ã€‚

### å¦‚æœè¾“å…¥çš„æ•°æ˜¯è´Ÿæ•°, æ€ä¹ˆåŠ?

å½“è¾“å…¥æ•°æ˜¯è´Ÿæ•°æ—¶, å…¶è¡¥ç çš„æ•°å­—èŒƒå›´å°±æ˜¯0åˆ°UINT_MAX(2^31-1)ã€‚
æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ç§æ–¹æ³•å°†å…¶è½¬ä¸ºæ­£æ•°, ä¸”ä¸å½±å“è¡¥ç é—´çš„è®¡ç®—ã€‚
è¿™æ ·ä¹Ÿå¯ä»¥ç›´æ¥å¤ç”¨æ­£æ•°çš„è¿­ä»£æ–¹æ³•è¿›è¡Œè®¡ç®—ã€‚

***

ä¸€ç§å¯è¡Œçš„æ–¹æ³•æ˜¯:

* 

```
N = N + 2^32 (2^32çš„16è¿›åˆ¶è¡¨ç¤ºä¸º 0x100000000)ã€‚
```

***

ç”¨ä»£ç è¡¨ç¤ºæ˜¯:

* cpp

```cpp
if (N < 0) N = N + 0x100000000;
```

***

æˆ–è¿™æ ·ç†è§£:
è¡¨ç¤ºè´Ÿæ•°â€œ-kâ€çš„æ–¹å¼æ˜¯ä½¿ç”¨ (2^n-k) ä»£æ›¿, å…¶ä¸­k>0ã€‚

* cpp

```cpp
if (N < 0) N = 0x100000000 - (-N);
```

**éœ€è¦æ³¨æ„çš„æ˜¯**: Javaä¸­ä¸èƒ½ä½¿ç”¨`0x100000000`, è€Œéœ€è¦å†™æˆ`4294967296L`, å¦åˆ™éƒ¨åˆ†test caseä¼šå› ä¸ºå¤§æ•´æ•°æº¢å‡ºè€Œæ— æ³•é€šè¿‡ã€‚å› ä¸º4294967296Lå°±æ˜¯ 0x0000000100000000(16^8=2^32), ä½†Javaä¸­ä¸ä½¿ç”¨BigIntegeræ—¶æ— æ³•å­˜å‚¨è¯¥å€¼ã€‚

<br> </br>

### å¦‚æœè¾“å…¥æ˜¯å¤§æ•´æ•°, æ€ä¹ˆåŠ?

è¿­ä»£è¿‡ç¨‹ä¸­ä½¿ç”¨long (ç”šè‡³long long)è§£å†³

<br> </br>

### å·² ACçš„ ä»£ç 

ç›®å‰å·²å®ç° C++ã€Pythonã€Javaã€C#, æ¬¢è¿è¡¥å……~

æ„Ÿè°¢ è¯„è®ºåŒºå°ä¼™ä¼´[@qizhenkang](/u/qizhenkang/)è´¡çŒ®çš„Pythonç‰ˆæœ¬ğŸ‘

* []

```C++
class Solution {
public:
    string toHex(int num) {
        string res;
        long N = num;     // é¢„å¤„ç†: å°†ç²¾åº¦æå‡åˆ°int64, é˜²æ­¢å¤§æ•´æ•°æº¢å‡º
        if (N == 0) return "0";
        unordered_map<int, char> dict;
        dict = {
                {0, '0'},
                {1, '1'},
                {2, '2'},
                {3, '3'},
                {4, '4'},
                {5, '5'},
                {6, '6'},
                {7, '7'},
                {8, '8'},
                {9, '9'},
                {10, 'a'},
                {11, 'b'},
                {12, 'c'},
                {13, 'd'},
                {14, 'e'},
                {15, 'f'}
            };
        if (N < 0) N = N + 0x100000000; /* è´Ÿæ•°çš„è¡¥ç : å…¶æ•°å­—èŒƒå›´å°±æ˜¯0åˆ°UINT_MAX(2^31-1), å³ä¸º16^8-1ã€‚è¿™é‡Œ+ 0x100000000æ˜¯ä¸ºäº†å°†ä»»æ„ä¸€ä¸ªè´Ÿæ•°è½¬æ¢åˆ°æ­£æ•°èŒƒå›´å†…(ä¸”ä¸å½±å“è®¡ç®—ç»“æœ), ç†è®ºä¸ŠÂ±2^32å‡å¯, ä½†æˆ‘ä»¬åé¢çš„è¿­ä»£éœ€è¦æ˜¯æ­£æ•°, äºæ˜¯é€‰æ‹©+0x100000000ã€‚ */
        while (N > 0)
        {
            long lastDigit = N % 16;
            N /= 16;
            res = dict[lastDigit] + res;
        }
        return res;
    }
};
```

* []

```C#
public class Solution {
    public string ToHex(int num) {
        string res = string.Empty;
        long N = num;     // é¢„å¤„ç†: å°†ç²¾åº¦æå‡åˆ°int64, é˜²æ­¢å¤§æ•´æ•°æº¢å‡º
        if (N == 0) return "0";
        Dictionary<long, char> dict = new Dictionary<long, char>
        {
            {0, '0'},
            {1, '1'},
            {2, '2'},
            {3, '3'},
            {4, '4'},
            {5, '5'},
            {6, '6'},
            {7, '7'},
            {8, '8'},
            {9, '9'},
            {10, 'a'},
            {11, 'b'},
            {12, 'c'},
            {13, 'd'},
            {14, 'e'},
            {15, 'f'}
        };
        if (N < 0) N = N + 0x100000000;
        while (N > 0)
        {
            long lastDigit = N % 16;
            N /= 16;
            res = dict[lastDigit] + res;
        }
        return res;        
    }
}
```

* []

```Python
class Solution:
    def toHex(self, num: int) -> str:
        result = ''
        hexDict = {0:'0',1:'1',2:'2',3:'3',4:'4',5:'5',6:'6',7:'7',8:'8',9:'9',10:'a',11:'b',12:'c',13:'d',14:'e',15:'f'}
        if num == 0:
            return '0'
        if num < 0:
            num = 16**8 + num
        while num > 0:
            result = hexDict[num % 16] + result
            num //= 16

        return result
```

* []

```Java
class Solution {
    public String toHex(int num) {
        String res = "";
        long N = num;     // é¢„å¤„ç†
        if (N == 0) return "0";
        HashMap<Integer, Character> dict = new HashMap<Integer, Character>()
        {{
            put(0, '0');
            put(1, '1');
            put(2, '2');
            put(3, '3');
            put(4, '4');
            put(5, '5');
            put(6, '6');
            put(7, '7');
            put(8, '8');
            put(9, '9');
            put(10, 'a');
            put(11, 'b');
            put(12, 'c');
            put(13, 'd');
            put(14, 'e');
            put(15, 'f');
        }};
        if (N < 0)  N = 4294967296L + N;  /* 4294967296Lå°±æ˜¯ 0x0000000100000000(16^8=2^32), Javaä¸­ä¸ä½¿ç”¨BigIntegeræ— æ³•å­˜å‚¨è¿™ä¸ªæ•°, åªèƒ½hard codeåœ¨è¿™é‡Œäº† */
        while (N > 0)
        {
            long lastDigit = N % 16;
            N /= 16;
            res = dict.get((int)lastDigit) + res;
        }
        return res;             
    }
}
```

#### è¿è¡Œç»“æœ:

![image.png](https://pic.leetcode-cn.com/1633139275-NZdkGq-image.png)

æ‰§è¡Œç”¨æ—¶ï¼š**0 ms**, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº† **100.00%** çš„ç”¨æˆ·
å†…å­˜æ¶ˆè€—ï¼š5.8 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº† **66.73%** çš„ç”¨æˆ·

<br />

### C++/C#/Java ä»£ç ç®€åŒ–

ç”¨1ä¸ªå­—ç¬¦ä¸²æ¨¡æ‹Ÿä¸€ä¸ª"å“ˆå¸Œè¡¨", è¿™æ ·ä»£ç å¯ä»¥ç¼©å‡ä¸å°‘è¡Œã€‚

* []

```C++
class Solution {
public:
    string toHex(int num) {
        string res;
        long N = num; 
        if (N == 0) return "0";
        string dict = "0123456789abcdef";
        if (N < 0) N = N + 0x100000000; 
        while (N > 0)
        {
            long lastDigit = N % 16;
            N /= 16;
            res = dict[lastDigit] + res;
        }
        return res;
    }
};
```

* []

```C#
public class Solution {
    public string ToHex(int num) {
        string res = string.Empty;
        long N = num;     // é¢„å¤„ç†: å°†ç²¾åº¦æå‡åˆ°int64, é˜²æ­¢å¤§æ•´æ•°æº¢å‡º
        if (N == 0) return "0";
        string dict = "0123456789abcdef";        
        if (N < 0) N = N + 0x100000000;
        while (N > 0)
        {
            long lastDigit = N % 16;
            N /= 16;
            res = dict[(int)lastDigit] + res;
        }
        return res;        
    }
}
```

* []

```Java
class Solution {
    public String toHex(int num) {
        String res = "";
        long N = num;     // é¢„å¤„ç†
        if (N == 0) return "0";
        String dict = "0123456789abcdef";
        if (N < 0) N = 4294967296L + N;  /* 4294967296Lå°±æ˜¯ 0x0000000100000000(16^8=2^32), Javaä¸­ä¸ä½¿ç”¨BigIntegeræ— æ³•å­˜å‚¨, åªèƒ½hard codeåœ¨è¿™é‡Œäº† */
        while (N > 0)
        {
            long lastDigit = N % 16;
            N /= 16;
            res = dict.charAt((int)lastDigit) + res;
        }
        return res;             
    }
}
```

#### è¿è¡Œç»“æœ:

![image.png](https://pic.leetcode-cn.com/1633146891-ZdMRVb-image.png)

æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯å‡»è´¥100%å“ˆ~

<br />

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯**æå®¢å­¦é•¿**ï¼Œç‚¹å‡»[æˆ‘çš„å¤´åƒ](https://github.com/yanglr/leetcode-ac)ï¼ŒæŸ¥çœ‹åŠ›æ‰£è¯¦ç»†åˆ·é¢˜æ”»ç•¥ï¼Œä½ ä¼šå‘ç°ç›¸è§æ¨æ™šï¼

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**

<br />

å¥½äº†ï¼Œ**ACä¸€æ—¶çˆ½ï¼Œä¸€ç›´ACä¸€ç›´çˆ½**ï¼

<br />

æœ¬äººå…¬ä¼—å· [å¤§ç™½æŠ€æœ¯æ§](https://mp.weixin.qq.com/s/d8RvIYtPOeGM2UOoP0xGkg), 2ä¸‡è¯»è€…ã€‚

çŸ¥ä¹ [Bravo Yeung](https://www.zhihu.com/people/legege007), 4.5ä¸‡è¯»è€…ã€‚

Bç«™ [æå®¢å­¦é•¿å‘€](https://space.bilibili.com/1443957), åç»­ä¼šç”¨è§†é¢‘çš„å½¢å¼æ¥å¸¦å¤§å®¶åˆ·LeetCodeé¢˜ï¼Œæ¬¢è¿ç‚¹ä¸ªå…³æ³¨ï¼Œæ•¬è¯·æœŸå¾…~

<br />

æ›´å¤šæ¸…æ™°æ˜“æ‡‚çš„ä»£ç  (C++/Java/C#/Python/Go) çš„ LeetCode é¢˜è§£ï¼Œä¼šåœ¨æˆ‘çš„ github ä»“åº“ [https://github.com/yanglr/leetcode-ac](https://github.com/yanglr/leetcode-ac)ä¸­æŒç»­æ›´æ–°, æ¬¢è¿å°ä¼™ä¼´ä»¬ star/forkï¼Œå¦‚æœæœ‰ä¸é”™çš„è§£æ³•ä¹Ÿæ¬¢è¿æPRã€‚

**ps:** ä»“åº“çš„ä»£ç ä¸­å¯ä»¥ç›´æ¥æ‹¿æ¥æœ¬åœ°è°ƒè¯•å–”ï¼Œæ¡†æ¶å·²æ­å¥½ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´ test caseå³å¯~

<br />

**å‚è€ƒ:**
Two's Complement (cornell.edu)
<https://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html>

Positive and Negative Two Complement Numbers
<https://www.cs.nmsu.edu/~hdp/cs273/notes/neg.html>
