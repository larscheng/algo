## åŠ¨æ€è§„åˆ’ï¼ˆç©ºæ ¼æŠ€å·§ï¼‰

è¿™æ˜¯ä¸€é“ã€Œæœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰ã€çš„è£¸é¢˜ã€‚

å¯¹äºè¿™ç±»é¢˜çš„éƒ½ä½¿ç”¨å¦‚ä¸‹ã€ŒçŠ¶æ€å®šä¹‰ã€å³å¯ï¼š

**$f[i][j]$ ä»£è¡¨è€ƒè™‘ $s1$ çš„å‰ $i$ ä¸ªå­—ç¬¦ã€è€ƒè™‘ $s2$ çš„å‰ $j$ çš„å­—ç¬¦ï¼Œå½¢æˆçš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ã€‚**

å½“æœ‰äº†ã€ŒçŠ¶æ€å®šä¹‰ã€ä¹‹åï¼ŒåŸºæœ¬ä¸Šã€Œè½¬ç§»æ–¹ç¨‹ã€å°±æ˜¯å‘¼ä¹‹æ¬²å‡ºï¼š

* `s1[i]==s2[j]` : $f[i][j]=f[i-1][j-1]+1$ã€‚ä»£è¡¨**å¿…ç„¶ä½¿ç”¨ $s1[i]$ ä¸ $s2[j]$ æ—¶** LCS çš„é•¿åº¦ã€‚
* `s1[i]!=s2[j]` : $f[i][j]=max(f[i-1][j], f[i][j-1])$ã€‚ä»£è¡¨**å¿…ç„¶ä¸ä½¿ç”¨ $s1[i]$ï¼ˆä½†å¯èƒ½ä½¿ç”¨$s2[j]$ï¼‰æ—¶** å’Œ **å¿…ç„¶ä¸ä½¿ç”¨ $s2[j]$ï¼ˆä½†å¯èƒ½ä½¿ç”¨$s1[i]$ï¼‰æ—¶** LCS çš„é•¿åº¦ã€‚

ä¸€äº›ç¼–ç ç»†èŠ‚ï¼š

é€šå¸¸æˆ‘ä¼šä¹ æƒ¯æ€§å¾€å­—ç¬¦ä¸²å¤´éƒ¨è¿½åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä»¥å‡å°‘è¾¹ç•Œåˆ¤æ–­ï¼ˆä½¿ä¸‹æ ‡ä» 1 å¼€å§‹ï¼Œå¹¶å¾ˆå®¹æ˜“æ„é€ å‡ºå¯æ»šåŠ¨çš„ã€Œæœ‰æ•ˆå€¼ã€ï¼‰ã€‚

ä»£ç ï¼ˆæ„Ÿè°¢ [@Qian](/u/qiank/) åŒå­¦æä¾›çš„ cpp ç‰ˆæœ¬ï¼‰ï¼š

* []

```Java
class Solution {
    public int longestCommonSubsequence(String s1, String s2) {
        int n = s1.length(), m = s2.length();
        s1 = " " + s1; s2 = " " + s2;
        char[] cs1 = s1.toCharArray(), cs2 = s2.toCharArray();
        int[][] f = new int[n + 1][m + 1]; 
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= m; j++) {
                if (cs1[i] == cs2[j]) f[i][j] = f[i -1][j - 1] + 1;    
                else f[i][j] = Math.max(f[i - 1][j], f[i][j - 1]);
            }
        }
        return f[n][m];
    }
}
```

* []

```C++
class Solution {
public:
    int longestCommonSubsequence(string s1, string s2) {
    	int n = s1.size(), m = s2.size();
    	s1 = " " + s1, s2 = " " + s2;
    	int f[n+1][m+1];
    	memset(f, 0, sizeof(f));
    	for(int i = 1; i <= n; i++) {
    		for(int j = 1; j <= m; j++) {
    			if(s1[i] == s2[j])
    				f[i][j] = max(f[i-1][j-1] + 1, max(f[i-1][j], f[i][j-1]));
    			else
    				f[i][j] = max(f[i-1][j], f[i][j-1]);
    		}
    	}
    	return f[n][m];
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times m)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n \times m)$

---

## åŠ¨æ€è§„åˆ’ï¼ˆåˆ©ç”¨åç§»ï¼‰

ä¸Šè¿°ã€Œè¿½åŠ ç©ºæ ¼ã€çš„åšæ³•æ˜¯æˆ‘æ¯”è¾ƒä¹ æƒ¯çš„åšæ³• ğŸ¤£

äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ã€ŒçŠ¶æ€å®šä¹‰ã€æ¥å®ç°é€’æ¨ï¼š

**$f[i][j]$ ä»£è¡¨è€ƒè™‘ $s1$ çš„å‰ $i - 1$ ä¸ªå­—ç¬¦ã€è€ƒè™‘ $s2$ çš„å‰ $j - 1$ çš„å­—ç¬¦ï¼Œå½¢æˆçš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ã€‚**

é‚£ä¹ˆæœ€ç»ˆçš„ $f[n][m]$ å°±æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆï¼Œ$f[0][0]$ å½“åšæ— æ•ˆå€¼ï¼Œä¸å¤„ç†å³å¯ã€‚

* `s1[i-1]==s2[j-1]` : $f[i][j]=f[i-1][j-1]+1$ã€‚ä»£è¡¨ä½¿ç”¨ $s1[i-1]$ ä¸ $s2[j-1]$å½¢æˆæœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ã€‚
* `s1[i-1]!=s2[j-1]` : $f[i][j]=max(f[i-1][j], f[i][j-1])$ã€‚ä»£è¡¨ä¸ä½¿ç”¨ $s1[i-1]$ å½¢æˆæœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ã€ä¸ä½¿ç”¨ $s2[j-1]$ å½¢æˆæœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ã€‚è¿™ä¸¤ç§æƒ…å†µä¸­çš„æœ€å¤§å€¼ã€‚

ä»£ç ï¼ˆæ„Ÿè°¢ [@å®«æ°´ä¸‰å¶çš„å°è¿·å¦¹](/u/san_ye_fen/)ã€[@ğŸ­å¯ä¹å¯ä¹å—QAQ](/u/littletime_cc/) å’Œ [@007](/u/007-v8/) ä¸‰ä½åŒå­¦æä¾›çš„ Pythonã€C++ å’Œ Go ç‰ˆæœ¬ï¼‰ï¼š

* []

```Java
class Solution {
    public int longestCommonSubsequence(String s1, String s2) {
        int n = s1.length(), m = s2.length();
        char[] cs1 = s1.toCharArray(), cs2 = s2.toCharArray();
        int[][] f = new int[n + 1][m + 1]; 
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= m; j++) {
                if (cs1[i - 1] == cs2[j - 1]) f[i][j] = f[i - 1][j - 1] + 1;    
                else f[i][j] = Math.max(f[i - 1][j], f[i][j - 1]);
            }
        }
        return f[n][m];
    }
}
```

* []

```Python
class Solution:
    def longestCommonSubsequence(self, text1: str, text2: str) -> int:
        m, n = len(text1), len(text2)
        dp = [[0] * (n + 1) for _ in range(m + 1)]
        for i in range(1, m + 1):
            for j in range(1, n + 1):
                if text1[i - 1] == text2[j - 1]:
                    dp[i][j] = dp[i - 1][j - 1] + 1
                else:
                    dp[i][j] = max(dp[i - 1][j],dp[i][j - 1])
        return dp[m][n]
```

* []

```C++
class Solution {
public:
    int longestCommonSubsequence(string text1, string text2) {
        int m = text1.size(), n = text2.size();
        vector<vector<int>> dp(m + 1,vector<int>(n + 1,0));
        for(int i = 1; i <= m; i++){
            for(int j = 1; j <= n; j++){
                if(text1[i - 1] == text2[j - 1]){
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                }
                else{
                    dp[i][j] = max(dp[i - 1][j],dp[i][j - 1]);
                }
            }
        }
        return dp[m][n];
    }
};
```

* []

```Golang
func longestCommonSubsequence(text1 string, text2 string) int {
	m := len(text1)
	n := len(text2)
	dp := make([][]int, m+1)
	for i := range dp {
		dp[i] = make([]int, n+1)
	}
	for i := 0; i < m; i++ {
		for j := 0; j < n; j++ {
			if text1[i] == text2[j] {
				dp[i+1][j+1] = dp[i][j] + 1
			} else {
				dp[i+1][j+1] = max(dp[i][j+1], dp[i+1][j])
			}
		}
	}
	return dp[m][n]
}
func max(i int, j int) int {
	if i > j {
		return i
	}
	return j
}
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times m)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n \times m)$

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~
